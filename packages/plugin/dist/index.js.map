{"version":3,"sources":["../src/TabItem.tsx","../src/styles.ts","../src/Tabs.tsx"],"names":["visibleItems","jsx"],"mappings":"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","file":"index.js","sourcesContent":["import type { ReactNode } from 'react';\n\nexport interface TabItemProps {\n  /** Unique identifier for this tab */\n  value: string;\n  /** Display label for the tab button (defaults to value) */\n  label?: string;\n  /** Mark this tab as selected by default */\n  default?: boolean;\n  /** Hide this tab from the tab list */\n  hidden?: boolean;\n  /** Additional HTML attributes for the tab button element */\n  attributes?: Record<string, unknown>;\n  /** Tab panel content */\n  children?: ReactNode;\n  /** Additional class name for the tab panel */\n  className?: string;\n}\n\n/**\n * TabItem component for use inside Tabs.\n *\n * When rendered inside a Tabs component, the Tabs parent handles\n * display/hide logic. TabItem itself only renders its children.\n *\n * @example\n * <Tabs>\n *   <TabItem value=\"npm\" label=\"npm\">npm install my-package</TabItem>\n *   <TabItem value=\"yarn\" label=\"Yarn\">yarn add my-package</TabItem>\n * </Tabs>\n */\nexport function TabItem({ children }: TabItemProps) {\n  return <>{children}</>;\n}\n","export const CSS = `\n.storybook-tabs {\n  margin-bottom: 1.5rem;\n}\n\n.storybook-tabs__list {\n  display: flex;\n  align-items: flex-end;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n  padding: 0;\n  margin: 0;\n  overflow-x: auto;\n  -webkit-overflow-scrolling: touch;\n  scrollbar-width: thin;\n  gap: 0;\n}\n\n.storybook-tabs__tab {\n  -webkit-appearance: none;\n  appearance: none;\n  border: none;\n  border-bottom: 2px solid transparent;\n  background: none;\n  cursor: pointer;\n  display: inline-flex;\n  align-items: center;\n  padding: 8px 16px;\n  font-size: 14px;\n  font-weight: 600;\n  line-height: 1.5;\n  color: #444950;\n  margin-bottom: -1px;\n  transition:\n    color 150ms ease,\n    border-color 150ms ease,\n    background 150ms ease;\n  white-space: nowrap;\n  border-radius: 4px 4px 0 0;\n  text-decoration: none;\n  font-family: inherit;\n}\n\n.storybook-tabs__tab:hover {\n  color: #1c1e21;\n  background: rgba(0, 0, 0, 0.05);\n}\n\n.storybook-tabs__tab:focus {\n  outline: none;\n}\n\n.storybook-tabs__tab:focus-visible {\n  outline: 2px solid #1877f2;\n  outline-offset: 2px;\n}\n\n.storybook-tabs__tab--selected {\n  color: #1877f2;\n  border-bottom-color: #1877f2;\n}\n\n.storybook-tabs__content {\n  padding: 12px 0;\n}\n\n.storybook-tabs__panel[hidden] {\n  display: none !important;\n}\n\n.storybook-tabs__panel--active {\n  display: block;\n}\n\n/* Dark mode support */\n@media (prefers-color-scheme: dark) {\n  .storybook-tabs__list {\n    border-bottom-color: rgba(255, 255, 255, 0.15);\n  }\n\n  .storybook-tabs__tab {\n    color: #b8bfc7;\n  }\n\n  .storybook-tabs__tab:hover {\n    color: #e3e3e3;\n    background: rgba(255, 255, 255, 0.08);\n  }\n\n  .storybook-tabs__tab--selected {\n    color: #4dabf7;\n    border-bottom-color: #4dabf7;\n  }\n}\n\n/* Storybook dark theme class-based override */\n.sb-show-main.sb-main-padded .storybook-tabs__list,\n[data-theme=\"dark\"] .storybook-tabs__list,\n.dark .storybook-tabs__list {\n  border-bottom-color: rgba(255, 255, 255, 0.15);\n}\n\n[data-theme=\"dark\"] .storybook-tabs__tab,\n.dark .storybook-tabs__tab {\n  color: #b8bfc7;\n}\n\n[data-theme=\"dark\"] .storybook-tabs__tab:hover,\n.dark .storybook-tabs__tab:hover {\n  color: #e3e3e3;\n  background: rgba(255, 255, 255, 0.08);\n}\n\n[data-theme=\"dark\"] .storybook-tabs__tab--selected,\n.dark .storybook-tabs__tab--selected {\n  color: #4dabf7;\n  border-bottom-color: #4dabf7;\n}\n`;\n\n/**\n * Injects the storybook-tabs CSS into the document head.\n * Safe to call multiple times — subsequent calls are no-ops.\n */\nexport function injectStyles(): void {\n  if (typeof document === 'undefined') return;\n  if (document.querySelector('[data-storybook-tabs-styles]')) return;\n  const style = document.createElement('style');\n  style.setAttribute('data-storybook-tabs-styles', '');\n  style.textContent = CSS;\n  document.head.appendChild(style);\n}\n\n// Auto-inject when this module is loaded in a browser context\ninjectStyles();\n","import {\n  useState,\n  useEffect,\n  useCallback,\n  Children,\n  isValidElement,\n  type ReactNode,\n} from 'react';\nimport { TabItem, type TabItemProps } from './TabItem';\nimport { injectStyles } from './styles';\n\n/** Custom event name used for same-page group synchronisation */\nconst GROUP_CHANGE_EVENT = 'storybook-tabs:group-change';\n\n/** sessionStorage key prefix for persisting group selection */\nconst STORAGE_KEY_PREFIX = 'storybook-tabs:group:';\n\ninterface GroupChangeDetail {\n  groupId: string;\n  value: string;\n}\n\nexport interface TabsProps {\n  /**\n   * The value of the tab that is selected by default.\n   * If omitted, the first tab (or the one with `default` prop) is used.\n   */\n  defaultValue?: string;\n  /**\n   * Syncs all Tabs sharing the same groupId — selecting a tab in one\n   * instance selects it in all others on the page (and persists to\n   * sessionStorage so it survives page navigations).\n   */\n  groupId?: string;\n  /**\n   * When true (or a string), the selected tab value is reflected in the\n   * URL query string so that links can deep-link to a specific tab.\n   * Pass a string to customise the query-parameter name\n   * (defaults to the groupId, or \"tab\" when no groupId is set).\n   */\n  queryString?: boolean | string;\n  /**\n   * Only render the content of the active tab. Hidden tabs are unmounted\n   * until selected. Useful when tab content is expensive to render.\n   */\n  lazy?: boolean;\n  /** Additional class names for the wrapper element. */\n  className?: string;\n  /** One or more TabItem elements. */\n  children: ReactNode;\n}\n\nfunction getTabItems(children: ReactNode) {\n  return Children.toArray(children).filter(\n    (child): child is React.ReactElement<TabItemProps> =>\n      isValidElement(child) && (child as React.ReactElement).type === TabItem,\n  );\n}\n\nfunction readQueryParam(paramName: string): string | null {\n  if (typeof window === 'undefined') return null;\n  return new URLSearchParams(window.location.search).get(paramName);\n}\n\nfunction writeQueryParam(paramName: string, value: string): void {\n  if (typeof window === 'undefined') return;\n  const url = new URL(window.location.href);\n  url.searchParams.set(paramName, value);\n  window.history.replaceState(null, '', url.toString());\n}\n\n/**\n * Tabs container — mirrors the Docusaurus `<Tabs>` API so that docs\n * written for Docusaurus MDX can be used in Storybook with minimal changes.\n *\n * @example Basic usage\n * ```mdx\n * import { Tabs, TabItem } from 'storybook-tabs';\n *\n * <Tabs>\n *   <TabItem value=\"npm\" label=\"npm\">\n *     ```bash\n *     npm install my-package\n *     ```\n *   </TabItem>\n *   <TabItem value=\"yarn\" label=\"Yarn\">\n *     ```bash\n *     yarn add my-package\n *     ```\n *   </TabItem>\n * </Tabs>\n * ```\n *\n * @example Synced tab groups\n * ```mdx\n * <Tabs groupId=\"package-manager\">\n *   <TabItem value=\"npm\" label=\"npm\">…</TabItem>\n *   <TabItem value=\"yarn\" label=\"Yarn\">…</TabItem>\n * </Tabs>\n *\n * <Tabs groupId=\"package-manager\">\n *   <TabItem value=\"npm\" label=\"npm\">…</TabItem>\n *   <TabItem value=\"yarn\" label=\"Yarn\">…</TabItem>\n * </Tabs>\n * ```\n */\nexport function Tabs({\n  defaultValue,\n  groupId,\n  queryString = false,\n  lazy = false,\n  className = '',\n  children,\n}: TabsProps) {\n  // Ensure styles are present (safe to call multiple times)\n  injectStyles();\n\n  const tabItems = getTabItems(children);\n\n  const resolveInitialValue = (): string => {\n    // 1. URL query string (highest precedence)\n    if (queryString) {\n      const paramName =\n        typeof queryString === 'string' ? queryString : (groupId ?? 'tab');\n      const urlValue = readQueryParam(paramName);\n      if (urlValue && tabItems.some((c) => c.props.value === urlValue)) {\n        return urlValue;\n      }\n    }\n\n    // 2. sessionStorage (group persistence)\n    if (groupId && typeof window !== 'undefined') {\n      const stored = sessionStorage.getItem(`${STORAGE_KEY_PREFIX}${groupId}`);\n      if (stored && tabItems.some((c) => c.props.value === stored)) {\n        return stored;\n      }\n    }\n\n    // 3. Explicit defaultValue prop\n    if (defaultValue && tabItems.some((c) => c.props.value === defaultValue)) {\n      return defaultValue;\n    }\n\n    // 4. TabItem with default prop\n    const markedDefault = tabItems.find((c) => c.props.default);\n    if (markedDefault) return markedDefault.props.value;\n\n    // 5. First tab\n    return tabItems[0]?.props.value ?? '';\n  };\n\n  const [selectedValue, setSelectedValue] = useState<string>(resolveInitialValue);\n\n  // Listen for group-change events from sibling Tabs instances\n  useEffect(() => {\n    if (!groupId) return;\n\n    const handler = (e: Event) => {\n      const { detail } = e as CustomEvent<GroupChangeDetail>;\n      if (detail.groupId === groupId) {\n        setSelectedValue(detail.value);\n      }\n    };\n\n    window.addEventListener(GROUP_CHANGE_EVENT, handler);\n    return () => window.removeEventListener(GROUP_CHANGE_EVENT, handler);\n  }, [groupId]);\n\n  const handleSelect = useCallback(\n    (value: string) => {\n      setSelectedValue(value);\n\n      if (groupId) {\n        sessionStorage.setItem(`${STORAGE_KEY_PREFIX}${groupId}`, value);\n        window.dispatchEvent(\n          new CustomEvent<GroupChangeDetail>(GROUP_CHANGE_EVENT, {\n            detail: { groupId, value },\n          }),\n        );\n      }\n\n      if (queryString) {\n        const paramName =\n          typeof queryString === 'string' ? queryString : (groupId ?? 'tab');\n        writeQueryParam(paramName, value);\n      }\n    },\n    [groupId, queryString],\n  );\n\n  // Allow keyboard navigation between tabs (← →)\n  const handleKeyDown = useCallback(\n    (e: React.KeyboardEvent, currentIndex: number) => {\n      const visibleItems = tabItems.filter((c) => !c.props.hidden);\n      let nextIndex: number | null = null;\n\n      if (e.key === 'ArrowRight') {\n        nextIndex = (currentIndex + 1) % visibleItems.length;\n      } else if (e.key === 'ArrowLeft') {\n        nextIndex = (currentIndex - 1 + visibleItems.length) % visibleItems.length;\n      } else if (e.key === 'Home') {\n        nextIndex = 0;\n      } else if (e.key === 'End') {\n        nextIndex = visibleItems.length - 1;\n      }\n\n      if (nextIndex !== null) {\n        e.preventDefault();\n        handleSelect(visibleItems[nextIndex].props.value);\n      }\n    },\n    [tabItems, handleSelect],\n  );\n\n  const visibleItems = tabItems.filter((c) => !c.props.hidden);\n\n  return (\n    <div\n      className={`storybook-tabs${className ? ` ${className}` : ''}`}\n      data-group-id={groupId}\n    >\n      <div className=\"storybook-tabs__list\" role=\"tablist\" aria-orientation=\"horizontal\">\n        {visibleItems.map((child, index) => {\n          const { value, label, attributes } = child.props;\n          const isSelected = value === selectedValue;\n          const { className: attrClassName, ...restAttributes } = (attributes ?? {}) as {\n            className?: string;\n            [key: string]: unknown;\n          };\n\n          return (\n            <button\n              key={value}\n              id={`storybook-tabs-tab-${groupId ?? 'default'}-${value}`}\n              role=\"tab\"\n              tabIndex={isSelected ? 0 : -1}\n              aria-selected={isSelected}\n              aria-controls={`storybook-tabs-panel-${groupId ?? 'default'}-${value}`}\n              className={`storybook-tabs__tab${isSelected ? ' storybook-tabs__tab--selected' : ''}${attrClassName ? ` ${attrClassName}` : ''}`}\n              onClick={() => handleSelect(value)}\n              onKeyDown={(e) => handleKeyDown(e, index)}\n              {...(restAttributes as React.ButtonHTMLAttributes<HTMLButtonElement>)}\n            >\n              {label ?? value}\n            </button>\n          );\n        })}\n      </div>\n\n      <div className=\"storybook-tabs__content\">\n        {lazy\n          ? tabItems.map((child) =>\n              child.props.value === selectedValue ? (\n                <div\n                  key={child.props.value}\n                  id={`storybook-tabs-panel-${groupId ?? 'default'}-${child.props.value}`}\n                  role=\"tabpanel\"\n                  aria-labelledby={`storybook-tabs-tab-${groupId ?? 'default'}-${child.props.value}`}\n                  className=\"storybook-tabs__panel storybook-tabs__panel--active\"\n                >\n                  {child.props.children}\n                </div>\n              ) : null,\n            )\n          : tabItems.map((child) => {\n              const isActive = child.props.value === selectedValue;\n              return (\n                <div\n                  key={child.props.value}\n                  id={`storybook-tabs-panel-${groupId ?? 'default'}-${child.props.value}`}\n                  role=\"tabpanel\"\n                  aria-labelledby={`storybook-tabs-tab-${groupId ?? 'default'}-${child.props.value}`}\n                  className={`storybook-tabs__panel${isActive ? ' storybook-tabs__panel--active' : ''}`}\n                  hidden={!isActive}\n                >\n                  {child.props.children}\n                </div>\n              );\n            })}\n      </div>\n    </div>\n  );\n}\n"]}